/*
 * Script Compressor v1.2.0 
 
 * ---------------------------------------------------------------------------------
 * Copyright (c) 2015 http://razakitechnology.com/application
 * generator compress javascript to minimize script production
 * and GPL licenses.
 * ----------------------------------------------------------------------------------
 
 * @ Depends	:	EUI.Counter.js
 * @ Date		:	2/23/2016
 * @ Author		:	razaki development team
 * @ Email		:	jombi_par@yahoo.com
 *
 */

var USER_ROOT=9;var USER_ADMIN=1;var USER_MANAGER=2;var USER_SUPERVISOR=3;var USER_TELESALES=4;var USER_QUALITY=4;var DBConfig="../class/class.save.counter.php";var seconds=0;var intervalid;var sessionKeys=function(){return document.ctiapplet.getCallSessionKey()};var CallSessionKeys={CallSessionId:"",CallCustomerId:"",CallCallerNumber:""};var start_timer_connected=function(){stoped_timer_ringing();clearInterval(intervalid);start_database("start_counter_connected");seconds=0;intervalid=setInterval(function(){a()},1000);document.getElementById("lebel_counter").innerHTML=" <span style='font-size:13px;color:#3e7107;'> Talking \"</span>";var a=function(){seconds+=1;document.getElementById("time_counter").innerHTML="<span style='font-size:13px;color:#3e7107;font-weight:bold;'>"+seconds_to_time(seconds)+"</span>"}};var start_timer_ringing=function(){start_database("start_counter_ringing");seconds=0;intervalid=setInterval(function(){a()},1000);document.getElementById("lebel_counter").innerHTML=" <span style='font-size:13px;color:#0b0bb1;'> Ringing \"</span>";var a=function(){seconds+=1;document.getElementById("time_counter").innerHTML="<span style='font-size:13px;color:#0b0bb1;font-weight:bold;'>"+seconds_to_time(seconds)+"</span>"}};var stoped_timer_disconnect=function(){clearInterval(intervalid);document.getElementById("time_counter").innerHTML="-"};var start_timer_acw=function(){stoped_timer_disconnect();start_database("start_counter_acw");seconds=0;intervalid=setInterval(function(){a()},1000);document.getElementById("lebel_counter").innerHTML=" <span style='font-size:13px;color:#b12003;'>ACW \"</span>";var a=function(){seconds+=1;document.getElementById("time_counter").innerHTML="<span style='font-size:13px;color:#b12003;font-weight:bold;'>"+seconds_to_time(seconds)+"</span>"}};var stoped_timer_ringing=function(){clearInterval(intervalid);document.getElementById("time_counter").innerHTML="-"};var seconds_to_time=function(d){var b=parseInt(d/3600)%24;var c=parseInt(d/60)%60;var e=d%60;var a=(b<10?"0"+b:b)+":"+(c<10?"0"+c:c)+":"+(e<10?"0"+e:e);return a};var start_database=function(b){doJava.File=DBConfig;doJava.Params={action:"save_counter",CounterType:b,SessionKey:sessionKeys(),CustomerId:phoneCall.CustomerId,CallerNumber:phoneCall.initNumber};var a=doJava.eJson();if(a.result){if(a.sessionCallId!=""){CallSessionKeys.CallSessionId=a.sessionCallId;CallSessionKeys.CallCustomerId=phoneCall.CustomerId;CallSessionKeys.CallCallerNumber=phoneCall.initNumber}}};var stop_database=function(b){doJava.File=DBConfig;doJava.Params={action:"save_counter",CounterType:b,CustomerId:CallSessionKeys.CallCustomerId,CallerNumber:CallSessionKeys.CallCallerNumber,SessionKey:CallSessionKeys.CallSessionId};var a=doJava.eJson();if(a.result){clearInterval(intervalid);setTimeout(function(){document.getElementById("time_counter").innerHTML="-";document.getElementById("lebel_counter").innerHTML="-"},5000)}};var CounterFunction=function(b,a){if(b==4){switch(a){case CALLSTATUS_IDLE:start_timer_acw();break;case CALLSTATUS_ALERTING:start_timer_ringing();break;case CALLSTATUS_CONNECTED:start_timer_connected();break}}};
